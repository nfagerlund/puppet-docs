---
layout: default
built_from_commit: 4e0b2b9b2c68e41c386308d71d23d9b26fbfa154
title: 'Resource Type: zone'
canonical: /puppet/latest/reference/types/zone.html
---

> **NOTE:** This page was generated from the Puppet source code on 2016-08-10 20:10:55 -0500

zone
-----

* [Attributes](#zone-attributes)
* [Providers](#zone-providers)

<h3 id="zone-description">Description</h3>

Manages Solaris zones.

**Autorequires:** If Puppet is managing the directory specified as the root of
the zone's filesystem (with the `path` attribute), the zone resource will
autorequire that directory.

<h3 id="zone-attributes">Attributes</h3>

<pre><code>zone { 'resource title':
  <a href="#zone-attribute-name">name</a>         =&gt; <em># <strong>(namevar)</strong> The name of the...</em>
  <a href="#zone-attribute-ensure">ensure</a>       =&gt; <em># The running state of the zone.  The valid states </em>
  <a href="#zone-attribute-autoboot">autoboot</a>     =&gt; <em># Whether the zone should automatically boot....</em>
  <a href="#zone-attribute-clone">clone</a>        =&gt; <em># Instead of installing the zone, clone it from...</em>
  <a href="#zone-attribute-create_args">create_args</a>  =&gt; <em># Arguments to the `zonecfg` create command.  This </em>
  <a href="#zone-attribute-dataset">dataset</a>      =&gt; <em># The list of datasets delegated to the non-global </em>
  <a href="#zone-attribute-id">id</a>           =&gt; <em># The numerical ID of the zone.  This number is...</em>
  <a href="#zone-attribute-inherit">inherit</a>      =&gt; <em># The list of directories that the zone inherits...</em>
  <a href="#zone-attribute-install_args">install_args</a> =&gt; <em># Arguments to the `zoneadm` install command....</em>
  <a href="#zone-attribute-ip">ip</a>           =&gt; <em># The IP address of the zone.  IP addresses...</em>
  <a href="#zone-attribute-iptype">iptype</a>       =&gt; <em># The IP stack type of the zone.  Valid values are </em>
  <a href="#zone-attribute-path">path</a>         =&gt; <em># The root of the zone's filesystem.  Must be a...</em>
  <a href="#zone-attribute-pool">pool</a>         =&gt; <em># The resource pool for this...</em>
  <a href="#zone-attribute-provider">provider</a>     =&gt; <em># The specific backend to use for this `zone...</em>
  <a href="#zone-attribute-realhostname">realhostname</a> =&gt; <em># The actual hostname of the...</em>
  <a href="#zone-attribute-shares">shares</a>       =&gt; <em># Number of FSS CPU shares allocated to the...</em>
  <a href="#zone-attribute-sysidcfg">sysidcfg</a>     =&gt; <em># The text to go into the `sysidcfg` file when the </em>
  # ...plus any applicable <a href="{{puppet}}/metaparameter.html">metaparameters</a>.
}</code></pre>

<h4 id="zone-attribute-name">name</h4>

_(**Namevar:** If omitted, this attribute's value defaults to the resource's title.)_

The name of the zone.

([↑ Back to zone attributes](#zone-attributes))

<h4 id="zone-attribute-ensure">ensure</h4>

_(**Property:** This attribute represents concrete state on the target system.)_

The running state of the zone.  The valid states directly reflect
the states that `zoneadm` provides.  The states are linear,
in that a zone must be `configured`, then `installed`, and
only then can be `running`.  Note also that `halt` is currently
used to stop zones.

Valid values are `absent`, `configured`, `installed`, `running`.

([↑ Back to zone attributes](#zone-attributes))

<h4 id="zone-attribute-autoboot">autoboot</h4>

_(**Property:** This attribute represents concrete state on the target system.)_

Whether the zone should automatically boot.

Valid values are `true`, `false`.

([↑ Back to zone attributes](#zone-attributes))

<h4 id="zone-attribute-clone">clone</h4>

Instead of installing the zone, clone it from another zone.
If the zone root resides on a zfs file system, a snapshot will be
used to create the clone; if it resides on a ufs filesystem, a copy of the
zone will be used. The zone from which you clone must not be running.

([↑ Back to zone attributes](#zone-attributes))

<h4 id="zone-attribute-create_args">create_args</h4>

Arguments to the `zonecfg` create command.  This can be used to create branded zones.

([↑ Back to zone attributes](#zone-attributes))

<h4 id="zone-attribute-dataset">dataset</h4>

_(**Property:** This attribute represents concrete state on the target system.)_

The list of datasets delegated to the non-global zone from the
global zone.  All datasets must be zfs filesystem names which are
different from the mountpoint.

([↑ Back to zone attributes](#zone-attributes))

<h4 id="zone-attribute-id">id</h4>

The numerical ID of the zone.  This number is autogenerated
and cannot be changed.

([↑ Back to zone attributes](#zone-attributes))

<h4 id="zone-attribute-inherit">inherit</h4>

_(**Property:** This attribute represents concrete state on the target system.)_

The list of directories that the zone inherits from the global
zone.  All directories must be fully qualified.

([↑ Back to zone attributes](#zone-attributes))

<h4 id="zone-attribute-install_args">install_args</h4>

Arguments to the `zoneadm` install command.  This can be used to create branded zones.

([↑ Back to zone attributes](#zone-attributes))

<h4 id="zone-attribute-ip">ip</h4>

_(**Property:** This attribute represents concrete state on the target system.)_

The IP address of the zone.  IP addresses **must** be specified
with an interface, and may optionally be specified with a default router
(sometimes called a defrouter). The interface, IP address, and default
router should be separated by colons to form a complete IP address string.
For example: `bge0:192.168.178.200` would be a valid IP address string
without a default router, and `bge0:192.168.178.200:192.168.178.1` adds a
default router to it.

For zones with multiple interfaces, the value of this attribute should be
an array of IP address strings (each of which must include an interface
and may include a default router).

([↑ Back to zone attributes](#zone-attributes))

<h4 id="zone-attribute-iptype">iptype</h4>

_(**Property:** This attribute represents concrete state on the target system.)_

The IP stack type of the zone.

Valid values are `shared`, `exclusive`.

([↑ Back to zone attributes](#zone-attributes))

<h4 id="zone-attribute-path">path</h4>

_(**Property:** This attribute represents concrete state on the target system.)_

The root of the zone's filesystem.  Must be a fully qualified
file name.  If you include `%s` in the path, then it will be
replaced with the zone's name.  Currently, you cannot use
Puppet to move a zone. Consequently this is a readonly property.

([↑ Back to zone attributes](#zone-attributes))

<h4 id="zone-attribute-pool">pool</h4>

_(**Property:** This attribute represents concrete state on the target system.)_

The resource pool for this zone.

([↑ Back to zone attributes](#zone-attributes))

<h4 id="zone-attribute-provider">provider</h4>

The specific backend to use for this `zone`
resource. You will seldom need to specify this --- Puppet will usually
discover the appropriate provider for your platform.

Available providers are:

* [`solaris`](#zone-provider-solaris)

([↑ Back to zone attributes](#zone-attributes))

<h4 id="zone-attribute-realhostname">realhostname</h4>

The actual hostname of the zone.

([↑ Back to zone attributes](#zone-attributes))

<h4 id="zone-attribute-shares">shares</h4>

_(**Property:** This attribute represents concrete state on the target system.)_

Number of FSS CPU shares allocated to the zone.

([↑ Back to zone attributes](#zone-attributes))

<h4 id="zone-attribute-sysidcfg">sysidcfg</h4>

The text to go into the `sysidcfg` file when the zone is first
booted.  The best way is to use a template:

    # $confdir/modules/site/templates/sysidcfg.erb
    system_locale=en_US
    timezone=GMT
    terminal=xterms
    security_policy=NONE
    root_password=<%= password %>
    timeserver=localhost
    name_service=DNS {domain_name=<%= domain %> name_server=<%= nameserver %>}
    network_interface=primary {hostname=<%= realhostname %>
      ip_address=<%= ip %>
      netmask=<%= netmask %>
      protocol_ipv6=no
      default_route=<%= defaultroute %>}
    nfs4_domain=dynamic

And then call that:

    zone { 'myzone':
      ip           => 'bge0:192.168.0.23',
      sysidcfg     => template('site/sysidcfg.erb'),
      path         => '/opt/zones/myzone',
      realhostname => 'fully.qualified.domain.name',
    }

The `sysidcfg` only matters on the first booting of the zone,
so Puppet only checks for it at that time.

([↑ Back to zone attributes](#zone-attributes))


<h3 id="zone-providers">Providers</h3>

<h4 id="zone-provider-solaris">solaris</h4>

Provider for Solaris Zones.

* Required binaries: `/usr/sbin/zoneadm`, `/usr/sbin/zonecfg`.
* Default for `osfamily` == `solaris`.




> **NOTE:** This page was generated from the Puppet source code on 2016-08-10 20:10:55 -0500